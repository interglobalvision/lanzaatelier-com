Site={mobileThreshold:601,init:function(){var o=this;$(window).resize(function(){o.onResize()}),$(document).ready(function(){o.Menu.init(),o.Layout.init(),o.Project.init(),o.ScrollMagic.init()})},onResize:function(){var o=this;$("body").removeClass("menu-active"),$("body").hasClass("home")&&(o.ScrollMagic.getColHeights(),o.ScrollMagic.toggleOverflow())},fixWidows:function(){$(".js-fix-widows").each(function(){var o=$(this).html();o=o.replace(/ ([^ ]*)$/,"&nbsp;$1"),$(this).html(o)})}},Site.ScrollMagic={init:function(){var o=this;$("body").hasClass("home")&&(o.speedLimit=4e3,o.cols={},o.cols.left=$(".scroll-col-left"),o.cols.right=$(".scroll-col-right"),o.cols.holder=$(".scroll-cols-holder"),o.cols.holder.removeClass("u-hidden"),o.scrollDirection=0,o.cols.left.pos=0,o.cols.right.pos=0,o.toggleOverflow(),"complete"===document.readyState?(o.getColHeights(!0),o.bind(),$("#front-loading").addClass("u-hidden")):$(window).on("load",function(){o.getColHeights(!0),o.bind(),$("#front-loading").addClass("u-hidden")}))},overMinWindowWidth:function(){return $(window).width()>=1024},setColPadding:function(){var o=this;o.overMinWindowWidth()&&$(".scroll-col").each(function(o,t){var e=$(t).children(".desktop-front-item").first(),i=$(t).children(".desktop-front-item").last(),l=$(window).height()/2-$("#footer").outerHeight(),s=$(window).height()/2-$("#header").outerHeight();e.css("padding-top",s-e.find("img").height()/2+"px"),i.css("padding-bottom",l-i.find("img").height()/2+"px")})},getColHeights:function(o){var t=this;t.setColPadding(),t.overMinWindowWidth()&&(t.cols.left.height=$(".scroll-col-left").outerHeight(!0),t.cols.right.height=$(".scroll-col-right").outerHeight(!0),t.cols.holder.height=$(".scroll-cols-holder").outerHeight(!0),t.cols.left.max=-(t.cols.left.height-t.cols.holder.height),t.cols.right.max=t.cols.right.height-t.cols.holder.height,t.updateScroll(o))},bind:function(){var o=this;$(document).on("mousewheel",$.proxy(o.scroll,o))},scroll:function(o){var t=this;t.scrollDirection=o.deltaY*o.deltaFactor,t.scrollSpeed=t.speedLimit/Math.abs(t.scrollDirection),t.cols.left.move=(t.cols.left.height-t.cols.holder.height)/t.scrollSpeed,t.cols.right.move=(t.cols.right.height-t.cols.holder.height)/t.scrollSpeed,t.scrollDirection>0?(t.cols.left.pos=t.cols.left.pos+t.cols.left.move,t.cols.right.pos=t.cols.right.pos-t.cols.right.move):(t.cols.left.pos=t.cols.left.pos-t.cols.left.move,t.cols.right.pos=t.cols.right.pos+t.cols.right.move),t.updateScroll()},checkScrollPos:function(){var o=this;o.cols.left.pos>0||o.cols.left.height<o.cols.holder.height?o.cols.left.pos=0:o.cols.left.pos<o.cols.left.max&&(o.cols.left.pos=o.cols.left.max),o.cols.right.pos<0||o.cols.right.height<o.cols.holder.height?o.cols.right.pos=0:o.cols.right.pos>o.cols.right.max&&(o.cols.right.pos=o.cols.right.max)},updateScroll:function(o){var t=this;t.checkScrollPos(),t.overMinWindowWidth()?o?(t.cols.left.pos=$(window).height()/2-t.cols.left.innerHeight()/2,t.cols.right.pos=t.cols.right.innerHeight()/2-$(window).height()/2,t.cols.left.css("transform","translateY("+t.cols.left.pos+"px)"),t.cols.right.css("transform","translateY("+t.cols.right.pos+"px)")):requestAnimationFrame(function(){t.cols.left.css("transform","translateY("+t.cols.left.pos+"px)"),t.cols.right.css("transform","translateY("+t.cols.right.pos+"px)")}):(t.cols.left.css("transform","translateY(0)"),t.cols.right.css("transform","translateY(0)"))},toggleOverflow:function(){var o=this;o.overMinWindowWidth()?$("html, body").hasClass("u-overflow-hidden")||$("html, body").addClass("u-overflow-hidden"):$("html, body").hasClass("u-overflow-hidden")&&$("html, body").removeClass("u-overflow-hidden")}},Site.Layout={init:function(){var o=this;$(".swiper-slide").length>1&&(o.initSwiper(),o.bindSwiperPagination())},initSwiper:function(){var o=this;o.swiper=new Swiper(".swiper-container",{loop:!0,nextButton:".project-gallery-next",prevButton:".project-gallery-prev",pagination:"#project-gallery-index",paginationType:"custom",spaceBetween:48,setWrapperSize:!0,paginationCustomRender:function(o,t,e){if($("#project-gallery-index").length)return'<span id="gallery-index-active">'+t+'</span>/<span id="gallery-index-length">'+e+"</span>"}})},bindSwiperPagination:function(){var o=this;$("#project-slide-prev").bind("click",function(t){t.stopPropagation(),o.swiper.slidePrev()}),$("#project-slide-next").bind("click",function(t){t.stopPropagation(),o.swiper.slideNext()})}},Site.Menu={init:function(){var o=this;o.bindToggle()},bindToggle:function(){$(".mobile-toggle").on("click",function(){$("body").toggleClass("menu-active")})}},Site.Project={init:function(){var o=this;$("body").hasClass("post-type-archive-project")&&o.Archive.init(),$("body").hasClass("single-project")&&o.Single.init()},Single:{init:function(){var o=this;o.bindProjectToggle(),o.perfectScrollbar()},bindProjectToggle:function(){$(".project-content-holder").bind("click",function(o){"A"!==o.target.nodeName&&$(".project-content-holder").toggleClass("hide")})},perfectScrollbar:function(){$(".project-content-holder").perfectScrollbar({suppressScrollX:!0})}},Archive:{init:function(){var o=this;o.bindTitleHover(),o.perfectScrollbar()},bindTitleHover:function(){$(".archive-project-title").hover(function(){$(".project-photos-container[data-id="+$(this).attr("data-id")+"]").removeClass("hide")},function(){$(".project-photos-container[data-id="+$(this).attr("data-id")+"]").addClass("hide")})},perfectScrollbar:function(){$("#archive-project-holder").perfectScrollbar({suppressScrollX:!0})}}},Site.init();
//# sourceMappingURL=/main.min.js.map